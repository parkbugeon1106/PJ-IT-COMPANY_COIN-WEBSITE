<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ê¸°ìˆ  ê¸°ë°˜ ì½”ì¸ | PJ COIN TRACKER</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="logo" onclick="window.location.href='index.html'">PJ IT COMPANY</div>
  <div class="site-title">ê¸°ìˆ  ê¸°ë°˜ ì½”ì¸</div>
</header>

<main>
  <h2>ê¸°ìˆ  ê¸°ë°˜ ì½”ì¸ ë¶„ë¥˜</h2>
  <p>ê¸°ìˆ ì  ëª©ì ì„ ê°€ì§„ ì½”ì¸ ì¢…ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>

  <div class="category-box">
    <div class="option" onclick="loadCoins('platform')">í”Œë«í¼</div>
    <div class="option" onclick="loadCoins('utility')">ìœ í‹¸ë¦¬í‹°</div>
    <div class="option" onclick="loadCoins('security')">ë³´ì•ˆ</div>
  </div>

  <div id="coin-list" style="margin-top:40px;"></div>
</main>

<footer>Â© 2025 PJ IT COMPANY</footer>

<script>
async function loadCoins(type) {
  const box = document.getElementById("coin-list");
  box.innerHTML = "<p>â³ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>";

  // ì¹´í…Œê³ ë¦¬ë³„ CoinGecko API endpoint (ëŒ€í‘œì  ì˜ˆì‹œ)
  const categoryMap = {
    platform: "platform",
    utility: "smart-contract-platform",
    security: "privacy-coins"
  };

  const cat = categoryMap[type] || "platform";
  try {
    const res = await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&per_page=15&category=${cat}`);
    const data = await res.json();

    if (!data || !data.length) {
      box.innerHTML = "<p>âš ï¸ í•´ë‹¹ ì½”ì¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>";
      return;
    }

    box.innerHTML = `
      <h3>ğŸ“Š ${type.toUpperCase()} ì½”ì¸ ëª©ë¡ (${data.length}ê°œ)</h3>
      <table style="margin:auto;border-collapse:collapse;">
        <tr><th>ì½”ì¸ëª…</th><th>ê°€ê²©(USD)</th><th>ë³€ë™ë¥ (24h)</th></tr>
        ${data.map(c => `
          <tr style="border-bottom:1px solid #ddd;">
            <td>${c.name} (${c.symbol.toUpperCase()})</td>
            <td>$${c.current_price.toLocaleString()}</td>
            <td style="color:${c.price_change_percentage_24h >= 0 ? 'green':'red'}">
              ${c.price_change_percentage_24h?.toFixed(2) || 0}%
            </td>
          </tr>
        `).join("")}
      </table>`;
    box.scrollIntoView({ behavior: "smooth" });
  } catch (err) {
    box.innerHTML = `<p>âŒ ë°ì´í„° ì˜¤ë¥˜: ${err.message}</p>`;
  }
}
</script>
</body>
</html>
